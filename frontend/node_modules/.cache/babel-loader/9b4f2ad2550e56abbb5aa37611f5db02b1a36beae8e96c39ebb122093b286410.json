{"ast":null,"code":"var _jsxFileName = \"/Users/sovitbhandari/Documents/Documents - Sovit's MacBook Pro/Finance Website/frontend/src/context/globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"http://localhost:3000/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(false); // Track loading state\n\n  const handleError = err => {\n    var _err$response, _err$response$data;\n    // or use specific type if known\n    console.error('API Error:', err);\n    setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'An error occurred');\n  };\n  const clearError = () => {\n    setError(null);\n  };\n  const fetchData = async (endpoint, setter) => {\n    setLoading(true); // Set loading before fetching data\n    try {\n      const response = await axios.get(`${BASE_URL}${endpoint}`);\n      setter(response.data);\n      setLoading(false);\n    } catch (err) {\n      handleError(err);\n    }\n  };\n  const postData = async (endpoint, data, fetchFunction) => {\n    setLoading(true); // Set loading while posting data\n    try {\n      await axios.post(`${BASE_URL}${endpoint}`, data);\n      fetchFunction();\n      clearError();\n      setLoading(false);\n    } catch (err) {\n      handleError(err);\n    }\n  };\n  const deleteData = async (endpoint, fetchFunction) => {\n    setLoading(true); // Set loading while deleting data\n    try {\n      await axios.delete(`${BASE_URL}${endpoint}`);\n      fetchFunction();\n      setLoading(false);\n    } catch (err) {\n      handleError(err);\n    }\n  };\n  const addIncome = income => postData('add-income', income, getIncomes);\n  const getIncomes = () => fetchData('get-incomes', setIncomes);\n  const deleteIncome = id => deleteData(`delete-income/${id}`, getIncomes);\n  const addExpense = expense => postData('add-expense', expense, getExpenses);\n  const getExpenses = () => fetchData('get-expenses', setExpenses);\n  const deleteExpense = id => deleteData(`delete-expense/${id}`, getExpenses);\n  const totalIncome = () => incomes.reduce((total, income) => total + Number(income.amount), 0);\n  const totalExpenses = () => expenses.reduce((total, expense) => total + Number(expense.amount), 0);\n  const totalBalance = () => totalIncome() - totalExpenses();\n  const transactionHistory = () => {\n    const history = [...incomes, ...expenses];\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    return history.slice(0, 3);\n  };\n  const signIn = () => setIsAuthenticated(true);\n  const signOut = () => setIsAuthenticated(false);\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome,\n      getIncomes,\n      incomes,\n      deleteIncome,\n      expenses,\n      totalIncome,\n      addExpense,\n      getExpenses,\n      deleteExpense,\n      totalExpenses,\n      totalBalance,\n      transactionHistory,\n      error,\n      setError,\n      loading,\n      // Provide loading state\n      isAuthenticated,\n      // Provide authentication state\n      signIn,\n      // Provide sign-in function\n      signOut // Provide sign-out function\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalProvider, \"m7JDwh1pKwDHF5T0BDARW1vA+eg=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","useContext","useState","axios","jsxDEV","_jsxDEV","BASE_URL","GlobalContext","createContext","GlobalProvider","children","_s","incomes","setIncomes","expenses","setExpenses","error","setError","isAuthenticated","setIsAuthenticated","loading","setLoading","handleError","err","_err$response","_err$response$data","console","response","data","message","clearError","fetchData","endpoint","setter","get","postData","fetchFunction","post","deleteData","delete","addIncome","income","getIncomes","deleteIncome","id","addExpense","expense","getExpenses","deleteExpense","totalIncome","reduce","total","Number","amount","totalExpenses","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","signIn","signOut","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["/Users/sovitbhandari/Documents/Documents - Sovit's MacBook Pro/Finance Website/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport axios from 'axios';\n\nconst BASE_URL = \"http://localhost:3000/api/v1/\";\n\nconst GlobalContext = React.createContext();\n\nexport const GlobalProvider = ({ children }) => {\n    const [incomes, setIncomes] = useState([]);\n    const [expenses, setExpenses] = useState([]);\n    const [error, setError] = useState(null);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [loading, setLoading] = useState(false); // Track loading state\n\n    const handleError = (err: any) => {  // or use specific type if known\n        console.error('API Error:', err);\n        setError(err.response?.data?.message || 'An error occurred');\n    };\n    \n\n    const clearError = () => {\n        setError(null);\n    };\n\n    const fetchData = async (endpoint, setter) => {\n        setLoading(true);  // Set loading before fetching data\n        try {\n            const response = await axios.get(`${BASE_URL}${endpoint}`);\n            setter(response.data);\n            setLoading(false);\n        } catch (err) {\n            handleError(err);\n        }\n    };\n\n    const postData = async (endpoint, data, fetchFunction) => {\n        setLoading(true);  // Set loading while posting data\n        try {\n            await axios.post(`${BASE_URL}${endpoint}`, data);\n            fetchFunction();\n            clearError();\n            setLoading(false);\n        } catch (err) {\n            handleError(err);\n        }\n    };\n\n    const deleteData = async (endpoint, fetchFunction) => {\n        setLoading(true); // Set loading while deleting data\n        try {\n            await axios.delete(`${BASE_URL}${endpoint}`);\n            fetchFunction();\n            setLoading(false);\n        } catch (err) {\n            handleError(err);\n        }\n    };\n\n    const addIncome = (income) => postData('add-income', income, getIncomes);\n    const getIncomes = () => fetchData('get-incomes', setIncomes);\n    const deleteIncome = (id) => deleteData(`delete-income/${id}`, getIncomes);\n\n    const addExpense = (expense) => postData('add-expense', expense, getExpenses);\n    const getExpenses = () => fetchData('get-expenses', setExpenses);\n    const deleteExpense = (id) => deleteData(`delete-expense/${id}`, getExpenses);\n\n    const totalIncome = () => incomes.reduce((total, income) => total + Number(income.amount), 0);\n    const totalExpenses = () => expenses.reduce((total, expense) => total + Number(expense.amount), 0);\n    const totalBalance = () => totalIncome() - totalExpenses();\n\n    const transactionHistory = () => {\n        const history = [...incomes, ...expenses];\n        history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n        return history.slice(0, 3);\n    };\n\n    const signIn = () => setIsAuthenticated(true);\n    const signOut = () => setIsAuthenticated(false);\n\n    return (\n        <GlobalContext.Provider value={{\n            addIncome,\n            getIncomes,\n            incomes,\n            deleteIncome,\n            expenses,\n            totalIncome,\n            addExpense,\n            getExpenses,\n            deleteExpense,\n            totalExpenses,\n            totalBalance,\n            transactionHistory,\n            error,\n            setError,\n            loading,       // Provide loading state\n            isAuthenticated, // Provide authentication state\n            signIn,         // Provide sign-in function\n            signOut         // Provide sign-out function\n        }}>\n            {children}\n        </GlobalContext.Provider>\n    );\n};\n\nexport const useGlobalContext = () => {\n    return useContext(GlobalContext);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}